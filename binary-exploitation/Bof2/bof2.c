#include <stdio.h>
#include <stdlib.h>
#include <signal.h>
#include <unistd.h>

void win(){
    system("cat ./flag.txt");
    exit(0);
}

void handler(int num){
    printf("Bye!\n");
    exit(-1);
}

int main(void){
    volatile void (*foo)(void) = NULL;
    char buffer[16];

    signal(SIGALRM, handler);
    alarm(5);

    printf("win: %p\n", win);

    gets(buffer);

    printf("foo: %p\n", foo);
    if (foo == (void *)win)
        foo();

    printf("Better luck next time.\n");
    exit(-1);

    return 0;
}
